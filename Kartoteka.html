<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kartoteka v.2024.05.12.214927</title>
<style>
    body, ul, li {
        margin: 1px;
        padding: 1px;
        list-style: none;
    }

    .hidden {
        display: none;
    }
    img {
        max-width: 100%;
        height: auto;
    }
        #searchInput {
            margin-bottom: 10px;
            width: 99%; /* Увеличенная ширина поля поиска */
            padding: 2px; /* Добавленный отступ для улучшенного внешнего вида */
            font-size: 16px; /* Измененный размер шрифта для лучшей читаемости */
        }

    .page {
        display: none;
    }
    .page.active {
        display: block;
    }
    #passwordInput {
        margin-bottom: 10px;
        /*width: 99%;*/
        padding: 2px;
        font-size: 16px;
    }
    #loginButton {
        margin-bottom: 10px;
        /*width: 99%;*/
        padding: 2px;
        font-size: 16px;
    }

</style>
</head>
<body>

<!-- Страница 1 -->
<div class="page" id="page1">
    <p style="text-align: center;">Kartoteka v.2024.05.12.214927</p>
    <p>Enter Password:</p>
    <input type="password" id="passwordInput">
    <button id="loginButton" onclick="checkPassword()">Enter</button>
    <p style="text-align: center;" id="currentLocation"></p>
</div>

<!-- Страница 2 -->
<div class="page" id="page2">
    <p style="text-align: center;">Kartoteka v.2024.05.12.214927</p>
        <table border="1">
            <tr> <th>Artykul</th> <th>Krotki tekst mat.</th> <th>Kod EAN/UPC</th> <th>ASO/IN-OUT</th> <th>Nazwa kate</th> <th>Grupa layout</th> </tr>
            <!-- Вставляем строки из базы данных -->

<tr><td><a href="#" onclick="showBarcode('307966')">307966</a></td><td>_ PALETA DHP JEDNORAZOWA BEZZWR. W</td><td><a href="#" onclick="showBarcode('20691363')">20691363</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('229788')">229788</a></td><td>_BANER</td><td><a href="#" onclick="showBarcode('20561826')">20561826</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('198645')">198645</a></td><td>_BUT PIWO 0,5L HARNAS ZWROTNA</td><td><a href="#" onclick="showBarcode('20479602')">20479602</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('196078')">196078</a></td><td>_BUT PIWO 0,5L VICHY ZWROTNA</td><td><a href="#" onclick="showBarcode('20468996')">20468996</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('351351')">351351</a></td><td>_BUT. PIWO</td><td><a href="#" onclick="showBarcode('20783198')">20783198</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('359885')">359885</a></td><td>_BUT. PIWO HARNAS 0,5L</td><td><a href="#" onclick="showBarcode('20795054')">20795054</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('359918')">359918</a></td><td>_BUT. PIWO KASZTELAN 0,5L</td><td><a href="#" onclick="showBarcode('20795887')">20795887</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('353979')">353979</a></td><td>_BUT. PIWO LECH PREMIUM 0,5L</td><td><a href="#" onclick="showBarcode('20787585')">20787585</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('415165')">415165</a></td><td>_BUT. PIWO LECH PREMIUM 0,5L</td><td><a href="#" onclick="showBarcode('5901359003030')">5901359003030</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('383249')">383249</a></td><td>_BUT. PIWO NAMYSLOW 0,5L</td><td><a href="#" onclick="showBarcode('20840686')">20840686</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('386961')">386961</a></td><td>_BUT. PIWO NAMYSLOW 0,5L(NOWY)</td><td><a href="#" onclick="showBarcode('20845469')">20845469</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('353980')">353980</a></td><td>_BUT. PIWO TATRA 0,5L</td><td><a href="#" onclick="showBarcode('20787592')">20787592</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('353981')">353981</a></td><td>_BUT. PIWO TYSKIE 0,5L</td><td><a href="#" onclick="showBarcode('20787608')">20787608</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('415437')">415437</a></td><td>_BUT. PIWO TYSKIE GRONIE 0,5L</td><td><a href="#" onclick="showBarcode('5901359003009')">5901359003009</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('383250')">383250</a></td><td>_BUT. PIWO WARKA 0,5L</td><td><a href="#" onclick="showBarcode('20840693')">20840693</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('386959')">386959</a></td><td>_BUT. PIWO WARKA 0,5L(NOWY)</td><td><a href="#" onclick="showBarcode('20844448')">20844448</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('236971')">236971</a></td><td>_BUT. PIWO ZUBR 0,5L</td><td><a href="#" onclick="showBarcode('20571115')">20571115</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('415439')">415439</a></td><td>_BUT. PIWO ZUBR 0,5L</td><td><a href="#" onclick="showBarcode('5901359134420')">5901359134420</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('266621')">266621</a></td><td>ORZ. WЈ. CHANDL. POЈУW. BAKAD'OR 75G</td><td><a href="#" onclick="showBarcode('5900749360012')">5900749360012</a></td><td>In-Out-y</td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('371023')">371023</a></td><td>ORZECH LASKOWY PRAZONY BAKAD'OR 180G</td><td><a href="#" onclick="showBarcode('5905617003596')">5905617003596</a></td><td>Asortyment Regularny</td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('360934')">360934</a></td><td>ORZECH WЈOSKI BAKAD'OR 180G</td><td><a href="#" onclick="showBarcode('5900587042545')">5900587042545</a></td><td>Asortyment Regularny</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('298540')">298540</a></td><td>ORZECH WЈOSKI CHANDLER BAKAD'OR 100G</td><td><a href="#" onclick="showBarcode('5900749442015')">5900749442015</a></td><td></td><td></td><td></td></tr>
<tr><td><a href="#" onclick="showBarcode('350268')">350268</a></td><td>ORZECH WЈOSKI CHANDLER BAKALLAND 25G</td><td><a href="#" onclick="showBarcode('5900749340151')">5900749340151</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('240912')">240912</a></td><td>ORZECHY ARACHIDOWE TOP WIADERKO 650G</td><td><a href="#" onclick="showBarcode('5900587043641')">5900587043641</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('352095')">352095</a></td><td>ORZECHY BRAZYLIJSKIE BAKAD'OR 150G</td><td><a href="#" onclick="showBarcode('5905617002599')">5905617002599</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('382584')">382584</a></td><td>ORZECHY BRAZYLIJSKIE BAKAD'OR 180G</td><td><a href="#" onclick="showBarcode('5905617003558')">5905617003558</a></td><td>Asortyment Regularny</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('266508')">266508</a></td><td>ORZECHY BRAZYLIJSKIE BAKALLAND 200G</td><td><a href="#" onclick="showBarcode('5900749020176')">5900749020176</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('357196')">357196</a></td><td>ORZECHY LASKOWE 300G HELIO</td><td><a href="#" onclick="showBarcode('5905617003046')">5905617003046</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('312578')">312578</a></td><td>ORZECHY LASKOWE BIO BAKAL 100G</td><td><a href="#" onclick="showBarcode('5900587041012')">5900587041012</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('290458')">290458</a></td><td>ORZECHY LASKOWE BLANSZOWANE 100G</td><td><a href="#" onclick="showBarcode('5900749030571')">5900749030571</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('198513')">198513</a></td><td>ORZECHY LASKOWE ЈUSKANE BAKAD'OR 100G</td><td><a href="#" onclick="showBarcode('5900749510028')">5900749510028</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('239958')">239958</a></td><td>ORZECHY LASKOWE ЈUSKANE LUZ</td><td><a href="#" onclick="showBarcode('2975960000000')">2975960000000</a></td><td></td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('352166')">352166</a></td><td>ORZECHY MAKADAMIA BAKAD'OR 100G</td><td><a href="#" onclick="showBarcode('5905617002582')">5905617002582</a></td><td>Asortyment Regularny</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('266507')">266507</a></td><td>ORZECHY MAKADAMIA BAKALLAND 75G</td><td><a href="#" onclick="showBarcode('5900749010337')">5900749010337</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('294185')">294185</a></td><td>ORZECHY MAKADAMIA HELIO 70G</td><td><a href="#" onclick="showBarcode('5905617000632')">5905617000632</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('298541')">298541</a></td><td>ORZECHY NERKOWCA BAKAD'OR 100G</td><td><a href="#" onclick="showBarcode('5900749441230')">5900749441230</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('361090')">361090</a></td><td>ORZECHY NERKOWCA BAKAD'OR 155G</td><td><a href="#" onclick="showBarcode('5905617002780')">5905617002780</a></td><td>Asortyment Regularny</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('269512')">269512</a></td><td>ORZECHY NERKOWCA BAKAD'OR 75G</td><td><a href="#" onclick="showBarcode('5900749440233')">5900749440233</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('383864')">383864</a></td><td>ORZECHY NERKOWCA BAKAL 500 G</td><td><a href="#" onclick="showBarcode('5900587043511')">5900587043511</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('359479')">359479</a></td><td>ORZECHY NERKOWCA BAKALLINO 300G</td><td><a href="#" onclick="showBarcode('5900587042439')">5900587042439</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('312486')">312486</a></td><td>ORZECHY NERKOWCA BIO BAKAL 100G</td><td><a href="#" onclick="showBarcode('5900587041029')">5900587041029</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('266367')">266367</a></td><td>ORZECHY NERKOWCA SMAZ. SOL. PREMIUM LUZ</td><td><a href="#" onclick="showBarcode('')"></a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('252359')">252359</a></td><td>ORZECHY PECAN BAKALLAND  75G</td><td><a href="#" onclick="showBarcode('5900749010344')">5900749010344</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('352167')">352167</a></td><td>ORZECHY PEKAN BAKAD'OR 150G</td><td><a href="#" onclick="showBarcode('5905617002650')">5905617002650</a></td><td>Asortyment Regularny</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('352168')">352168</a></td><td>ORZECHY PINII BAKAD'OR 100G</td><td><a href="#" onclick="showBarcode('')"></a></td><td>Delisted</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('266506')">266506</a></td><td>ORZECHY PINII BAKALLAND 75G</td><td><a href="#" onclick="showBarcode('5900749010320')">5900749010320</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('307167')">307167</a></td><td>ORZECHY PINII NATURA FOOD 70G</td><td><a href="#" onclick="showBarcode('5905617002506')">5905617002506</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('323248')">323248</a></td><td>ORZECHY WASABI 100G</td><td><a href="#" onclick="showBarcode('4018077771750')">4018077771750</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('380358')">380358</a></td><td>ORZECHY WЈOSKIE W ЈUPINIE BAKALLAND 500G</td><td><a href="#" onclick="showBarcode('5900749240017')">5900749240017</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('240678')">240678</a></td><td>ORZECHY WЈOSKIE W ЈUPINIE LUZ.</td><td><a href="#" onclick="showBarcode('2976220000000')">2976220000000</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('382938')">382938</a></td><td>ORZECHY ZIEMNE PRAZ KROJ BAKALLINO 200 G</td><td><a href="#" onclick="showBarcode('5900587044037')">5900587044037</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('258146')">258146</a></td><td>ORZECHY ZIEMNE W KARMELU LUZ</td><td><a href="#" onclick="showBarcode('2961190000000')">2961190000000</a></td><td>In-Out-y</td><td>Suche</td><td>BAKALIE</td></tr>
<tr><td><a href="#" onclick="showBarcode('427709')">427709</a></td><td>ZELKI ODPORNOSЖ GO ACTIVE 175G</td><td><a href="#" onclick="showBarcode('5901888022311')">5901888022311</a></td><td>Delisted</td><td>Suche</td><td>Zdrowie</td></tr>
        </table>
    </div>

<!-- Страница 3 -->
    <div id="page3" style="display:none;">
        <button onclick="goBack()">Back</button><br><br>
        <img id="barcodeImage" src="" alt="Штрих-код">
    </div>

    <script>
        var scrollPosition; // Переменная для хранения положения прокрутки

        function showBarcode(data) {
            // Сохраняем текущее положение прокрутки
            scrollPosition = window.scrollY;

            // Показываем страницу с изображением штрих-кода
            document.getElementById("page2").style.display = "none";
            document.getElementById("page3").style.display = "block";

            // Генерируем URL для изображения штрих-кода
            const barcodeImageUrl = "https://barcode.tec-it.com/barcode.ashx?data=" + data + "&code=Code128&translate-esc=true&qunit=Mm&quiet=5";

            // Устанавливаем изображение штрих-кода
            document.getElementById("barcodeImage").src = barcodeImageUrl;
        }

        function goBack() {
            // Показываем страницу с таблицей
            document.getElementById("page2").style.display = "block";
            document.getElementById("page3").style.display = "none";

            // Восстанавливаем положение прокрутки
            window.scrollTo(0, scrollPosition);
        }
    </script>

<script>
    // Функция для простого шифрования пароля
    function encryptPassword(password) {
        var encryptedPassword = '';
        for (var i = 0; i < password.length; i++) {
            encryptedPassword += String.fromCharCode(password.charCodeAt(i) + 1); // Простое смещение символов на один шаг вперед
        }
        return encryptedPassword;
    }

    // Функция для дешифрования пароля
    function decryptPassword(encryptedPassword) {
        var password = '';
        for (var i = 0; i < encryptedPassword.length; i++) {
            password += String.fromCharCode(encryptedPassword.charCodeAt(i) - 1); // Простое смещение символов на один шаг назад
        }
        return password;
    }

    function showPage(pageNumber) {
        // Скрыть все страницы
        var pages = document.querySelectorAll('.page');
        pages.forEach(function(page) {
            page.classList.remove('active');
        });
        
        // Показать выбранную страницу
        var selectedPage = document.getElementById('page' + pageNumber);
        if (selectedPage) {
            selectedPage.classList.add('active');
        }
    }

    // Функция для определения геолокации
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(checkLocation, showPasswordPage);
        } else {
            showPasswordPage(); // Переходим к вводу пароля, если геолокация не поддерживается
        }
    }

    // Функция для проверки геолокации
    function checkLocation(position) {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        var distance = calculateDistance(latitude, longitude, 52.2474565, 20.8437659);
        if (distance <= 1) {
            showPage(2); // Переключаемся на вторую страницу, если пользователь в радиусе 1 км от указанной геолокации
        } else {
            showPasswordPage(); // Переходим к вводу пароля, если пользователь не в радиусе 1 км от указанной геолокации
        }

        // Отображаем текущую геолокацию
        var currentLocationElement = document.getElementById('currentLocation');
        if (currentLocationElement) {
            currentLocationElement.textContent = '' + latitude + ', ' + longitude;
        }
    }

    // Функция для показа страницы ввода пароля
    function showPasswordPage() {
        showPage(1);
    }

    // Функция для вычисления расстояния между двумя точками на земной поверхности (примерное расстояние в километрах)
    function calculateDistance(lat1, lon1, lat2, lon2) {
        var R = 6371; // Радиус Земли в километрах
        var dLat = deg2rad(lat2 - lat1);
        var dLon = deg2rad(lon2 - lon1);
        var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
                Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *
                Math.sin(dLon / 2) * Math.sin(dLon / 2);
        var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
        var d = R * c; // Расстояние в километрах
        return d;
    }

    function deg2rad(deg) {
        return deg * (Math.PI / 180);
    }

    // Функция для проверки пароля
function checkPassword() {
    var passwordInput = document.getElementById('passwordInput').value;
    var encryptedPassword = encryptPassword(passwordInput);
    if (encryptedPassword === '73319739') { // Зашифрованный пароль
        showPage(2); // Переключаемся на вторую страницу, если пароль верный
    } else {
        alert('Invalid password!');
    }
}

    // Проверяем геолокацию при загрузке страницы
    getLocation();
    


</script>

</body>
</html>

